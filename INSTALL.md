# HistoryGraph 安装指南

## 快速安装

### 步骤1：下载插件
1. 下载或克隆此项目到本地文件夹
2. 确保所有文件都在同一个文件夹中

### 步骤2：在Chrome中安装
1. 打开Chrome浏览器
2. 在地址栏输入：`chrome://extensions/`
3. 开启右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"按钮
5. 选择包含插件文件的文件夹
6. 点击"选择文件夹"

### 步骤3：验证安装
1. 安装成功后，插件图标会出现在Chrome工具栏中
2. 点击插件图标，应该会打开分析页面
3. 如果遇到问题，可以访问测试页面：`chrome-extension://[插件ID]/test.html`

## 文件结构

确保你的插件文件夹包含以下文件：

```
HistoryGraph/
├── manifest.json          # 插件配置文件
├── background.js          # 后台脚本
├── graph.html            # 主分析页面
├── graph.js              # 分析页面脚本
├── style.css             # 样式文件
├── popup.html            # 弹出窗口
├── popup.js              # 弹出窗口脚本
├── test.html             # 测试页面
├── README.md             # 说明文档
├── INSTALL.md            # 安装指南
├── LICENSE               # 许可证文件
└── icons/
    └── history.png       # 插件图标
```

## 权限说明

插件需要以下权限才能正常工作：

- **storage**: 存储插件设置和缓存数据
- **history**: 读取浏览历史数据进行分析
- **tabs**: 创建新标签页显示分析结果

这些权限都是必要的，插件不会收集或上传任何个人数据。

## 故障排除

### 插件无法安装
- 确保Chrome版本支持Manifest V3（Chrome 88+）
- 检查manifest.json文件格式是否正确
- 确保所有必需文件都存在

### 插件安装后无法使用
- 检查Chrome扩展管理页面是否显示错误
- 尝试重新加载插件
- 检查浏览器控制台是否有错误信息

### 无法获取历史数据
- 确保已授予history权限
- 检查是否有浏览历史数据
- 尝试刷新数据或选择不同的时间范围

### 图表无法显示
- 确保网络连接正常（需要加载Chart.js库）
- 检查浏览器控制台是否有JavaScript错误
- 尝试刷新页面

## 测试功能

安装完成后，可以通过以下方式测试插件功能：

1. **基本功能测试**：
   - 点击插件图标，应该打开分析页面
   - 检查各种图表是否正常显示

2. **数据测试**：
   - 访问测试页面：`chrome-extension://[插件ID]/test.html`
   - 运行各种测试检查功能是否正常

3. **导出测试**：
   - 在分析页面点击导出按钮
   - 检查是否能正常下载CSV或JSON文件

## 更新插件

要更新插件：

1. 下载新版本的文件
2. 在Chrome扩展管理页面找到HistoryGraph
3. 点击"重新加载"按钮
4. 或者删除旧版本后重新安装

## 卸载插件

要卸载插件：

1. 打开Chrome扩展管理页面
2. 找到HistoryGraph插件
3. 点击"删除"按钮
4. 确认删除

## 技术支持

如果遇到问题：

1. 首先查看故障排除部分
2. 检查README.md文件中的常见问题
3. 在GitHub上提交Issue
4. 提供详细的错误信息和Chrome版本

## 隐私说明

- 所有数据仅在本地处理
- 不会向任何服务器发送数据
- 不会收集个人敏感信息
- 可以随时卸载插件删除所有数据 